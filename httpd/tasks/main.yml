---
    - name: install web components
      yum: 
        name: 
        - httpd
        state: present 
        update_cache: yes

    - name: ensure httpd started
      service: 
        name: httpd 
        state: started 
        enabled: yes

    - name: copy demo app source
      copy: 
        content: "{{ groups.webserver[:2] groups.webserver[len(groups.webserver-2:2]  }}"
        dest: /var/www/html/index.html
        mode: 0755
      notify: restart httpd

    - name: copy apache virtual host config
      copy: 
        src: demo/httpd.conf 
        dest: /etc/httpd/conf/httpd.conf
        mode: 0755
      notify: restart httpd